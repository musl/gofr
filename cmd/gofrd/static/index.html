<!doctype html!>
<html>
	<head>
		<meta charset="utf-8" />

		<title>gofr</title>

		<meta name="author" content="Michael Hix" />
		<meta name="copyright" content="Copyright 2016 Michael Hix" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<meta name="robots" content="noindex, nofollow" />
		<meta http-equiv="cache-control" content="no-cache" />
		<meta http-equiv="pragma" content="no-cache" />

		<link rel="stylesheet" href="/css/lib/pure-min.css" type="text/css" media="screen" charset="utf-8">
		<!--[if lte IE 8]>
			<link rel="stylesheet" href="/css/lib/grids-responsive-old-ie-min.css">
		<![endif]-->
		<!--[if gt IE 8]><!-->
		<link rel="stylesheet" href="/css/lib/grids-responsive-min.css">
		<!--<![endif]-->
		<link rel="stylesheet" href="/css/lib/font-awesome.min.css" type="text/css" media="screen" charset="utf-8">

		<link rel="stylesheet" href="/css/style.css" type="text/css" media="screen" charset="utf-8">
		<link rel="stylesheet" href="/css/ring.css" type="text/css" media="screen" charset="utf-8">

		<script type="text/javascript" charset="utf-8" src="/js/lib/jquery-3.1.1.js"></script>
		<script type="text/javascript" charset="utf-8" src="/js/lib/ractive.js"></script>
		<script type="text/javascript" charset="utf-8" src="/js/lib/ace/ace.js"></script>

		<script id='gofr-tmpl' type='text/ractive'>
			<browser view='{{view}}'/>
		</script>

		<script id='editor-tmpl' type='text/ractive'>
			<dialog>
				<div class="editor"></div>
				<form class="pure-form">
					<button on-click="save" class="pure-button pure-button-primary">save</button>
					<button on-click="dismiss" class="pure-button">dismiss</button>
					<button on-click="revert" class="pure-button">revert</button>
				</form>
			</dialog>
		</script>
		
    <script id='browser-tmpl' type='text/ractive'>
      <editor mode="json" theme="github" />
      <div class="pure-g">
        <div class="pure-u-1">
          <h1>gofr</h1>
        </div>
        <div class="pure-u-1-4 nav">
          <form class="pure-form pure-form-stacked">
            <label><i class="fa fa-plane"></i>&nbsp;move</label>
            <button class="pure-button" on-click="move_up"><i class="fa fa-chevron-up"></i></button>
            <button class="pure-button" on-click="move_down"><i class="fa fa-chevron-down"></i></button>
            <button class="pure-button" on-click="move_left"><i class="fa fa-chevron-left"></i></button>
            <button class="pure-button" on-click="move_right"><i class="fa fa-chevron-right"></i></button>
            <label><i class="fa fa-search"></i>&nbsp;zoom</label>
            <button class="pure-button" on-click="zoom_in_4x"><i class="fa fa-expand"></i><i class="fa fa-expand"></i></button>
            <button class="pure-button" on-click="zoom_in"><i class="fa fa-expand"></i></button>
            <button class="pure-button" on-click="zoom_out"><i class="fa fa-compress"></i></button>
            <button class="pure-button" on-click="zoom_out_4x"><i class="fa fa-compress"></i><i class="fa fa-compress"></i></button>
            <label><i class="fa fa-tasks"></i>&nbsp;algorithm</label>
            <select value="{{view.r}}">
              <option value="mandelbrot" selected>mandelbrot</option>
            </select>
            <label><i class="fa fa-power-off"></i>&nbsp;power</label>
            <input type="text" value="{{view.p}}">
            <label><i class="fa fa-refresh"></i>&nbsp;iterations</label>
            <input type="text" value="{{view.i}}">
            <label><i class="fa fa-sign-out"></i>&nbsp;escape radius</label>
            <input type="text" value="{{view.e}}">
            <label><i class="fa fa-signal"></i>&nbsp;sampling factor</label>
            <input type="text" value="{{view.s}}" />
            <label><i class="fa fa-paint-brush"></i>&nbsp;coloring algorithm</label>
            <select value="{{view.c}}">
              <option value="mono" selected>mono</option>
              <option value="check">check</option>
              <option value="stripe">stripe</option>
              <option value="bands">bands</option>
              <option value="smooth">smooth</option>
              <option value="parti">parti</option>
              <option value="superparti">superparti</option>
              <option value="softspectrum">softspectrum</option>
              <option value="fire">fire</option>
              <option value="ice">ice</option>
              <option value="unicornrainbow">unicornrainbow</option>
              <option value="e1">e1</option>
            </select>
            <label><i class="fa fa-eyedropper"></i>&nbsp;member color</label>
            <input type="color" value="{{view.m}}">
            <p>
              <i class="fa fa-picture-o"></i>&nbsp;view:<br>
              {{complex(view.rmin, view.imin)}}<br>
              {{complex(view.rmax, view.imax)}}
            </p>
            <p>
              <a href="#" on-click="update_view"><i class="fa fa-refresh"></i> fit &amp update</a><br>
              <a href="#" on-click="edit_view"><i class="fa fa-edit"></i> edit view</a><br>
              <a href="{{view_url()}}" target="_blank"><i class="fa fa-link"></i> permalink</a><br>
            </p>
            <label><i class="fa fa-bookmark"></i>&nbsp;bookmarks</label>
            {{#bookmarks:name}}
              <i class="fa fa-bookmark"
                 class-current="{{current_bookmark(name)}}"></i>
              <a href="#" on-click="go_to_bookmark" data-bookmark="{{name}}">{{name}}</a>
              {{#if editable}}
                <a href="#" on-click="delete_bookmark" data-bookmark="{{name}}"><i class="fa fa-times"></i></a>
                <a href="#" on-click="update_bookmark" data-bookmark="{{name}}"><i class="fa fa-refresh"></i></a>
              {{/if}}
              <br>
            {{/each}}
            <a href="#" on-click="add_bookmark"><i class="fa fa-plus"></i> add bookmark</a><br>
            <a href="#" on-click="edit_bookmarks"><i class="fa fa-edit"></i> edit bookmarks</a><br>
          </form>
        </div>
        
        <div class="pure-u-3-4">
          <div id="image">
            <canvas width="{{view.w}}" height="{{view.h}}" on-mousedown="mouse"></canvas>
            <div id="ring" class='uil-ring-css'>
              <div class="util-ring-css-1"></div>
              <div class="util-ring-css-2"></div>
            </div>
          </div>
        </div>

      </div>
    </script>

		<script id='old-browser-tmpl' type='text/ractive'>
			<editor mode="json" theme="github" />

      <div id="image">
        <canvas width="{{view.w}}" height="{{view.h}}" on-mousedown="mouse"></canvas>
        <div id="ring" class='uil-ring-css'>
          <div class="util-ring-css-1"></div>
          <div class="util-ring-css-2"></div>
        </div>
      </div>
			<form class="pure-form pure-form-stacked">
				<div class="pure-g">
					<div class="pure-u-1 pure-u-md-1-3">
						<p>
							<a href="{{view_url()}}" target="_blank"><i class="fa fa-link"></i> permalink</a><br>
							<a href="#" on-click="edit_view"><i class="fa fa-edit"></i> view</a>
							<a href="#" on-click="edit_bookmarks"><i class="fa fa-edit"></i> bookmarks</a><br>
							<a href="#" on-click="update_view"><i class="fa fa-refresh"></i> fit &amp update</a>
						<p>
					</div>
					<div class="pure-u-1 pure-u-md-2-3">
						<p>
              <i class="fa fa-picture-o"></i>&nbsp;view:<br>
							{{complex(view.rmin, view.imin)}}<br>
							{{complex(view.rmax, view.imax)}}
					 </p>
					</div>	
					<div class="pure-u-1 pure-u-md-1-3">
						<label><i class="fa fa-plane"></i>&nbsp;move</label>
						<button class="pure-button" on-click="move_up"><i class="fa fa-chevron-up"></i></button>
						<button class="pure-button" on-click="move_down"><i class="fa fa-chevron-down"></i></button>
						<button class="pure-button" on-click="move_left"><i class="fa fa-chevron-left"></i></button>
						<button class="pure-button" on-click="move_right"><i class="fa fa-chevron-right"></i></button>
					</div>
					<div class="pure-u-1 pure-u-md-1-3">
						<label><i class="fa fa-search"></i>&nbsp;zoom</label>
						<button class="pure-button" on-click="zoom_in_4x"><i class="fa fa-expand"></i><i class="fa fa-expand"></i></button>
						<button class="pure-button" on-click="zoom_in"><i class="fa fa-expand"></i></button>
						<button class="pure-button" on-click="zoom_out"><i class="fa fa-compress"></i></button>
						<button class="pure-button" on-click="zoom_out_4x"><i class="fa fa-compress"></i><i class="fa fa-compress"></i></button>
					</div>
          <div class="pure-u-1 pure-u-md-1-3">
            <label>&nbsp;</label>
            <button class="pure-button" on-click="update_view"><i class="fa fa-refresh"></i></button>
            <button class="pure-button" on-click="go_back"><i class="fa fa-arrow-left"></i></button>
					</div>
					<div class="pure-u-1 pure-u-md-1-3">
            <label><i class="fa fa-refresh"></i>&nbsp;iterations</label>
						<input type="text" value="{{view.i}}">
					</div>
					<div class="pure-u-1 pure-u-md-1-3">
						<label><i class="fa fa-paint-star"></i>&nbsp;algorithm</label>
						<select value="{{view.r}}">
							<option value="mandelbrot" selected>mandelbrot</option>
						</select>
					</div>
					<div class="pure-u-1 pure-u-md-1-3">
            <label><i class="fa fa-power-off"></i>&nbsp;power</label>
						<input type="text" value="{{view.p}}">
					</div>
					<div class="pure-u-1 pure-u-md-1-3">
            <label><i class="fa fa-sign-out"></i>&nbsp;escape radius</label>
						<input type="text" value="{{view.e}}">
					</div>
					<div class="pure-u-1 pure-u-md-1-3">
            <label><i class="fa fa-eyedropper"></i>&nbsp;member color</label>
						<input type="color" value="{{view.m}}">
					</div>
					<div class="pure-u-1 pure-u-md-1-3">
						<label><i class="fa fa-paint-brush"></i>&nbsp;coloring algorithm</label>
						<select value="{{view.c}}">
							<option value="mono" selected>mono</option>
							<option value="check">check</option>
							<option value="stripe">stripe</option>
							<option value="bands">bands</option>
							<option value="smooth">smooth</option>
							<option value="parti">parti</option>
							<option value="superparti">superparti</option>
							<option value="softspectrum">softspectrum</option>
							<option value="fire">fire</option>
							<option value="ice">ice</option>
							<option value="unicornrainbow">unicornrainbow</option>
							<option value="e1">e1</option>
						</select>
					</div>
					<div class="pure-u-1 pure-u-md-1-3">
            <label><i class="fa fa-signal"></i>&nbsp;sampling factor</label>
						<input type="text" value="{{view.s}}">
					</div>
					<div class="pure-u-1 pure-u-md-2-3">
              <label><i class="fa fa-bookmark"></i>&nbsp;bookmarks</label>
							{{#bookmarks:name}}
                <i class="fa fa-bookmark"
                   class-current="{{current_bookmark(name)}}"></i>
								<a href="#" on-click="go_to_bookmark" data-bookmark="{{name}}">{{name}}</a>
								{{#if editable}}
									<a href="#" on-click="delete_bookmark" data-bookmark="{{name}}"><i class="fa fa-times"></i></a>
									<a href="#" on-click="update_bookmark" data-bookmark="{{name}}"><i class="fa fa-refresh"></i></a>
								{{/if}}
								<br>
							{{/each}}
              <p><button class="pure-button" on-click="add_bookmark"><i class="fa fa-plus"></i> add bookmark</button></p>
					</div>
				</div>
			</form>
		</script>

		<script type="text/javascript" charset="utf-8" src="/js/app.js"></script>

	</head>
	<body>
				<div id="#gofr"></div>
	</body>
</html>
